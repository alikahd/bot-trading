# ๐ ุชูุซูู ูุธุงู ุงูุชุณุฌูู ูุงูุงุดุชุฑุงู ูุงูุฏูุน

## ๐ฏ ุงูุฎุทุฉ ุงููุงููุฉ ููุชุฏูู

### 1๏ธโฃ **ุงูุตูุญุฉ ุงูุฃููู (Landing Page)**
- ุฃูู ุตูุญุฉ ุชุธูุฑ ุนูุฏ ูุชุญ ุงูุชุทุจูู
- ุชุญุชูู ุนูู ูุนูููุงุช ุนู ุงูููุตุฉ
- ุฒุฑ "ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ" โ ููุฌู ููุชุณุฌูู
- ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู" โ ููุฌู ูุชุณุฌูู ุงูุฏุฎูู

### 2๏ธโฃ **ุตูุญุฉ ุงูุชุณุฌูู (Register Page)**
- ุงููุณุชุฎุฏู ูุฏุฎู:
  - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - ุงุณู ุงููุณุชุฎุฏู
  - ุงูุงุณู ุงููุงูู
  - ุงูุจูุฏ
  - ูููุฉ ุงููุฑูุฑ
- ุจุนุฏ ุงูุชุณุฌูู ุงููุงุฌุญ โ ูุชู ุฅูุดุงุก ุญุณุงุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุญุงูุฉ ุงูุฃูููุฉ: `status: 'pending_email_verification'`, `is_active: false`

### 3๏ธโฃ **ุตูุญุฉ ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**
- ูุชู ุฅุฑุณุงู ุฑูุฒ ุชูุนูู ููุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงููุณุชุฎุฏู ูุฏุฎู ุงูุฑูุฒ
- ุจุนุฏ ุงูุชูุนูู ุงููุงุฌุญ โ `email_verified: true`, `status: 'pending_subscription'`

### 4๏ธโฃ **ุตูุญุฉ ุงูุงุดุชุฑุงู (Subscription Page)**
- ุนุฑุถ ุงูุจุงูุงุช ุงููุชุงุญุฉ
- ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุจุงูุฉ
- ุจุนุฏ ุงูุงุฎุชูุงุฑ โ ุงูุชูุฌู ูุจุงุดุฑุฉ ูุตูุญุฉ ุงูุฏูุน

### 5๏ธโฃ **ุตูุญุฉ ุงูุฏูุน (Payment Page)**
- ุฎูุงุฑุงุช ุงูุฏูุน:
  1. **PayPal** โ ุฏูุน ููุฑู
  2. **ุจุทุงูุฉ ุจูููุฉ** โ ุฏูุน ููุฑู
  3. **ุนููุงุช ุฑูููุฉ (Bitcoin/Crypto)** โ ูุชุทูุจ ูุฑุงุฌุนุฉ

#### ๐น **ุณููุงุฑูู 1: ุงูุฏูุน ุจู PayPal ุฃู ุงูุจุทุงูุฉ ุงูุจูููุฉ**
- ุงูุฏูุน ูุชู ุจูุฌุงุญ โ `payment.status: 'completed'`
- ูุชู ุชูุนูู ุงูุงุดุชุฑุงู ุชููุงุฆูุงู โ `subscription.status: 'active'`
- ูุชู ุชูุนูู ุญุณุงุจ ุงููุณุชุฎุฏู โ `user.is_active: true`, `user.status: 'active'`
- ุงูุชูุฌู ูุตูุญุฉ ุงููุฌุงุญ โ **ูููู ุชุณุฌูู ุงูุฏุฎูู ูุจุงุดุฑุฉ**

#### ๐น **ุณููุงุฑูู 2: ุงูุฏูุน ุจุงูุนููุงุช ุงูุฑูููุฉ**
- ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุนููุฉ ุงูุฑูููุฉ
- ูุชู ุนุฑุถ ุนููุงู ุงููุญูุธุฉ ูุงููุจูุบ ุงููุทููุจ
- ุงููุณุชุฎุฏู ูุฑูุน ุตูุฑุฉ ุฅุซุจุงุช ุงูุฏูุน (ููุทุฉ ุดุงุดุฉ)
- ุจุนุฏ ุฑูุน ุงูุตูุฑุฉ:
  - `payment.status: 'reviewing'`
  - `payment.admin_review_status: 'pending'`
  - `payment.crypto_proof_image: 'ุฑุงุจุท ุงูุตูุฑุฉ'`
  - `user.status: 'payment_pending_review'`
  - `subscription.status: 'inactive'`
- ุงูุชูุฌู ูุตูุญุฉ ูุฑุงุฌุนุฉ ุงูุฏูุน

### 6๏ธโฃ **ุตูุญุฉ ูุฑุงุฌุนุฉ ุงูุฏูุน (Payment Review Page)**
- ุชุธูุฑ ูููุณุชุฎุฏู ุงูุฐู ุฏูุน ุจุงูุนููุงุช ุงูุฑูููุฉ
- ุฑุณุงูุฉ: "ุชู ุงุณุชูุงู ุทูุจูุ ุฌุงุฑู ุงููุฑุงุฌุนุฉ ูู ูุจู ุงูุฅุฏุงุฑุฉ"
- ูุชู ุงูุชุญูู ูู ุญุงูุฉ ุงููุฑุงุฌุนุฉ ุชููุงุฆูุงู ูู 30 ุซุงููุฉ

### 7๏ธโฃ **ููุญุฉ ุงูุฃุฏูู (Admin Panel)**
- ุงูุฃุฏูู ูุฑู ุฌููุน ุงููุฏููุนุงุช ุงููุนููุฉ
- ููู ุฏูุน:
  - ูุนูููุงุช ุงููุณุชุฎุฏู
  - ุงูุจุงูุฉ ุงููุฎุชุงุฑุฉ
  - ุตูุฑุฉ ุฅุซุจุงุช ุงูุฏูุน
  - ุฎูุงุฑุงุช: **ููุงููุฉ** ุฃู **ุฑูุถ**

#### ๐น **ุนูุฏ ุงูููุงููุฉ:**
- `payment.admin_review_status: 'approved'`
- `payment.status: 'completed'`
- `subscription.status: 'active'`
- `user.is_active: true`
- `user.status: 'active'`
- `user.subscription_status: 'active'`
- ุงููุณุชุฎุฏู ูุฑู ูู ุตูุญุฉ ุงููุฑุงุฌุนุฉ: "ุชูุช ุงูููุงููุฉ ุนูู ุงูุฏูุน โ"
- **ููููู ุชุณุฌูู ุงูุฏุฎูู ุงูุขู**

#### ๐น **ุนูุฏ ุงูุฑูุถ:**
- `payment.admin_review_status: 'rejected'`
- `payment.status: 'failed'`
- `subscription.status: 'cancelled'`
- `user.is_active: false`
- `user.status: 'pending_payment'`
- `user.subscription_status: 'inactive'`
- ุงููุณุชุฎุฏู ูุฑู ูู ุตูุญุฉ ุงููุฑุงุฌุนุฉ: "ุชู ุฑูุถ ุงูุฏูุน โ"
- **ูุง ููููู ุชุณุฌูู ุงูุฏุฎูู**

### 8๏ธโฃ **ุชุณุฌูู ุงูุฏุฎูู (Login)**
- ุงูุชุญูู ูู:
  1. โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุนู (`email_verified: true`)
  2. โ ุงูุงุดุชุฑุงู ูุดุท (`subscription_status: 'active'`)
  3. โ ุงูุญุณุงุจ ููุนู (`is_active: true`)
  4. โ ุงูุญุงูุฉ ูุดุทุฉ (`status: 'active'`)

- ุฅุฐุง ูู ูุชู ุงุณุชููุงุก ุงูุดุฑูุท โ **ุฑูุถ ุชุณุฌูู ุงูุฏุฎูู**
- ุฑุณุงูุฉ ุฎุทุฃ: "ูุฌุจ ุฅููุงู ุงูุงุดุชุฑุงู ูุงูุฏูุน ุฃููุงู"

---

## ๐๏ธ **ูุงุนุฏุฉ ุงูุจูุงูุงุช**

### ุฌุฏูู `users`
```sql
- id (UUID)
- auth_id (UUID) - ูุนุฑู ุงููุตุงุฏูุฉ ูู Supabase Auth
- username (TEXT)
- email (TEXT)
- full_name (TEXT)
- country (TEXT)
- role (TEXT) - 'admin' ุฃู 'trader'
- is_active (BOOLEAN) - ูู ุงูุญุณุงุจ ููุนูุ
- email_verified (BOOLEAN) - ูู ุงูุจุฑูุฏ ููุนูุ
- status (TEXT) - ุญุงูุฉ ุงูุญุณุงุจ
  * 'pending_email_verification' - ุจุงูุชุธุงุฑ ุชูุนูู ุงูุจุฑูุฏ
  * 'pending_subscription' - ุจุงูุชุธุงุฑ ุงูุงุดุชุฑุงู
  * 'pending_payment' - ุจุงูุชุธุงุฑ ุงูุฏูุน
  * 'payment_pending_review' - ุงูุฏูุน ููุฏ ุงููุฑุงุฌุนุฉ
  * 'active' - ูุดุท
- subscription_status (TEXT) - 'active', 'inactive', 'expired'
- subscription_end_date (TIMESTAMP)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

### ุฌุฏูู `subscription_plans`
```sql
- id (UUID)
- name (TEXT)
- name_ar (TEXT)
- description (TEXT)
- price (NUMERIC)
- duration (TEXT) - 'ุดูุฑู', 'ุณููู'
- duration_months (INTEGER)
- features (JSONB)
- is_active (BOOLEAN)
- created_at (TIMESTAMP)
```

### ุฌุฏูู `subscriptions`
```sql
- id (UUID)
- user_id (UUID) - FK โ users.id
- plan_id (UUID) - FK โ subscription_plans.id
- status (TEXT) - 'active', 'inactive', 'cancelled', 'expired'
- start_date (TIMESTAMP)
- end_date (TIMESTAMP)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

### ุฌุฏูู `payments`
```sql
- id (UUID)
- user_id (UUID) - FK โ users.id
- subscription_id (UUID) - FK โ subscriptions.id
- amount (NUMERIC)
- currency (TEXT) - 'USD'
- payment_method (TEXT) - 'paypal', 'credit_card', 'bitcoin', 'crypto'
- status (TEXT) - 'pending', 'completed', 'failed', 'reviewing'
- transaction_id (TEXT)
- crypto_proof_image (TEXT) - ุฑุงุจุท ุตูุฑุฉ ุฅุซุจุงุช ุงูุฏูุน
- crypto_wallet_address (TEXT) - ุนููุงู ุงููุญูุธุฉ ุงููุณุชุฎุฏู
- admin_review_status (TEXT) - 'pending', 'approved', 'rejected'
- admin_review_notes (TEXT)
- reviewed_by (UUID) - FK โ users.id (ุงูุฃุฏูู)
- reviewed_at (TIMESTAMP)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

---

## ๐ **ููุงุนุฏ ุงูุฃูุงู (RLS - Row Level Security)**

### ุฌุฏูู `users`
- ุงููุณุชุฎุฏู ููููู ูุฑุงุกุฉ ุจูุงูุงุชู ููุท
- ุงูุฃุฏูู ููููู ูุฑุงุกุฉ ูุชุนุฏูู ุฌููุน ุงููุณุชุฎุฏููู

### ุฌุฏูู `subscriptions`
- ุงููุณุชุฎุฏู ููููู ูุฑุงุกุฉ ุงุดุชุฑุงูุงุชู ููุท
- ุงูุฃุฏูู ููููู ูุฑุงุกุฉ ูุชุนุฏูู ุฌููุน ุงูุงุดุชุฑุงูุงุช

### ุฌุฏูู `payments`
- ุงููุณุชุฎุฏู ููููู ูุฑุงุกุฉ ูุฏููุนุงุชู ููุท
- ุงูุฃุฏูู ููููู ูุฑุงุกุฉ ูุชุนุฏูู ุฌููุน ุงููุฏููุนุงุช

---

## โ **ููุงุท ุงูุชุญูู ูุงูุฃูุงู**

1. โ **ูุง ูููู ุชุณุฌูู ุงูุฏุฎูู ุจุฏูู:**
   - ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุงุดุชุฑุงู ูุดุท
   - ุฏูุน ููุชูู ููุนุชูุฏ

2. โ **ุงูุชุญูู ูู ุตุญุฉ ุงูุงุดุชุฑุงู:**
   - ุนูุฏ ูู ุชุณุฌูู ุฏุฎูู
   - ุนูุฏ ูู ุทูุจ ูููุงุฌูุฉ ุงูุฎูููุฉ
   - ุงูุชุญูู ูู ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุดุชุฑุงู

3. โ **ุญูุงูุฉ ุงูุตูุฑ:**
   - ุชุฎุฒูู ุตูุฑ ุฅุซุจุงุช ุงูุฏูุน ูู Supabase Storage
   - bucket: `payment-proofs`
   - ุงููุตูู ูุญูู - ููุท ุงูุฃุฏูู ูุงููุณุชุฎุฏู ุตุงุญุจ ุงูุตูุฑุฉ

4. โ **ุชุณุฌูู ุงูุนูููุงุช:**
   - ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุชุชุจุน ูู ูุงู ุจุงููุฑุงุฌุนุฉ ููุชู
   - ุญูุธ ููุงุญุธุงุช ุงูุฃุฏูู

---

## ๐ **ุงูุชุฏูู ุงููุงูู - ูุฎุทุท**

```
ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ
    โ
Landing Page
    โ
Register Page โ ุฅูุดุงุก ุญุณุงุจ
    โ
Email Verification โ ุชูุนูู ุงูุจุฑูุฏ
    โ
Subscription Page โ ุงุฎุชูุงุฑ ุจุงูุฉ
    โ
Payment Page โ ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน
    โ
    โโโ PayPal/Card โ Payment Success โ Login โ
    โ
    โโโ Crypto โ ุฑูุน ุตูุฑุฉ โ Payment Review Page
                    โ
                Admin Panel (ูุฑุงุฌุนุฉ)
                    โ
                    โโโ ููุงููุฉ โ Payment Review Page (ูุนุชูุฏ) โ Login โ
                    โ
                    โโโ ุฑูุถ โ Payment Review Page (ูุฑููุถ) โ Login โ
```

---

## ๐ **ููุงุญุธุงุช ูููุฉ**

1. **ุนุฏู ุงูุชุนููุฏ:** ุงููุธุงู ูุตูู ููููู ุจุณูุทุงู ููุงุถุญุงู
2. **ุงูุฃูุงู ุงูุนุงูู:** ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจู RLS
3. **ุงูุชุญูู ุงูุฏููู:** ูุญุต ุดุงูู ูุจู ุงูุณูุงุญ ุจุชุณุฌูู ุงูุฏุฎูู
4. **ุชุฌูุจ ุงูุชุนุงุฑุถุงุช:** ุงุณุชุฎุฏุงู transactions ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. **ุชุชุจุน ูุงูู:** ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ููุคุฑุฎุฉ

---

## ๐ฏ **ุงููููุงุช ุงููุชุฃุซุฑุฉ**

### Services
- โ `simpleAuthService.ts` - ุงููุตุงุฏูุฉ ูุงูุชุญูู
- โ `subscriptionService.ts` - ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช
- โ `paymentService.ts` - ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช

### Components
- โ `LoginPage.tsx` - ุชุณุฌูู ุงูุฏุฎูู ูุน ุงูุชุญูู
- โ `RegisterPage.tsx` - ุงูุชุณุฌูู
- โ `EmailVerificationPage.tsx` - ุชูุนูู ุงูุจุฑูุฏ
- โ `SubscriptionPage.tsx` - ุงุฎุชูุงุฑ ุงูุจุงูุฉ
- โ `PaymentPage.tsx` - ุงูุฏูุน
- โ `PaymentReviewPage.tsx` - ูุฑุงุฌุนุฉ ุงูุฏูุน
- โ `AdminPanel.tsx` - ููุญุฉ ุงูุฃุฏูู

### Database
- โ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ RLS Policies
- โ Database Functions
- โ Storage Buckets

---

**ุชุงุฑูุฎ ุงูุชูุซูู:** 12 ุฃูุชูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 1.0
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุชุทุจูู
