# ๐ฏ ุฏููู ุฅุนุฏุงุฏุงุช ูุธุงู ุงูุฅุญุงูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ:

ุชู ุฅูุดุงุก ูุงูุฐุฉ **ุฅุนุฏุงุฏุงุช ูุธุงู ุงูุฅุญุงูุฉ** ููุชุญูู ุงููุงูู ูู ูุณุจ ุงูุฎุตู ูุงูุนูููุงุช ูุฌููุน ุงูุฅุญุงูุงุช.

---

## โ ูุง ุชู ุฅูุดุงุคู:

### 1๏ธโฃ **ุงููููู ุงูุฌุฏูุฏ:**
- **ุงูููู:** `src/components/admin/ReferralSettings.tsx`
- **ุงููุธููุฉ:** ูุงุฌูุฉ ุชุญูู ูุงููุฉ ููุฃุฏูู

### 2๏ธโฃ **ุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- **ุงูููู:** `supabase/migrations/20251101010000_create_referral_settings.sql`
- **ุงูุฌุฏูู:** `referral_settings`

### 3๏ธโฃ **ุงูุชูุงูู:**
- โ ุชู ุฅุถุงูุฉ ุงูุตูุญุฉ ุฅูู `AdminPanel.tsx`
- โ ุชุธูุฑ ูู ุชุจููุจ "ุงูุฅุนุฏุงุฏุงุช"

---

## ๐๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุชุงุญุฉ:

### 1. **ูุณุจุฉ ุงูุฎุตู ูููุณุชุฎุฏู ุงูุฌุฏูุฏ:**
- **ุงููุทุงู:** 0% - 50%
- **ุงูุงูุชุฑุงุถู:** 10%
- **ุงููุตู:** ูู ุณูุญุตู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูู ุฎุตู ุนูุฏ ุงุณุชุฎุฏุงู ุฑุงุจุท ุฃู ููุจูู ุฅุญุงูุฉ

**ูุซุงู:**
```
ุจุงูุฉ $50 - ุฎุตู 10% = $45 (ูุฏูุน ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ)
```

### 2. **ูุณุจุฉ ุงูุนูููุฉ ูุตุงุญุจ ุงูุฅุญุงูุฉ:**
- **ุงููุทุงู:** 0% - 50%
- **ุงูุงูุชุฑุงุถู:** 10%
- **ุงููุตู:** ูู ุณูุฑุจุญ ุตุงุญุจ ุงูุฅุญุงูุฉ ูู ูููุฉ ุงูุจุงูุฉ ุจุนุฏ ุงูุฎุตู

**ูุซุงู:**
```
ุจุงูุฉ $50 - ุฎุตู 10% = $45
ุนูููุฉ ุตุงุญุจ ุงูุฅุญุงูุฉ: $45 ร 10% = $4.50
```

### 3. **ุฏูุฑุฉ ุงูุฏูุน:**
- **ุงูุฎูุงุฑุงุช:** 7 ุฃูุงู | 15 ููู | 30 ููู
- **ุงูุงูุชุฑุงุถู:** 15 ููู
- **ุงููุตู:** ูู ูู ููู ุณูุชู ุฏูุน ุงูุนูููุงุช ูููุณุชุฎุฏููู

### 4. **ุงูุญุฏ ุงูุฃุฏูู ููุณุญุจ:**
- **ุงููุทุงู:** $0+
- **ุงูุงูุชุฑุงุถู:** $10
- **ุงููุตู:** ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุนูููุงุช ุงููุทููุจ ูุทูุจ ุงูุฏูุน

### 5. **ุชูุนูู ุงููุธุงู:**
- **ุงูุฎูุงุฑุงุช:** ููุนูู | ูุนุทูู
- **ุงูุงูุชุฑุงุถู:** ููุนูู
- **ุงููุตู:** ุงูุณูุงุญ ูููุณุชุฎุฏููู ุจุฅูุดุงุก ุฑูุงุจุท ุฅุญุงูุฉ

---

## ๐ ููู ูุนูู ุงููุธุงู:

### ุงูุณููุงุฑูู ุงููุงูู:

#### **ุงูุฎุทูุฉ 1: ุงูุฃุฏูู ูุญุฏุฏ ุงููุณุจ**
```
ูุณุจุฉ ุงูุฎุตู: 15%
ูุณุจุฉ ุงูุนูููุฉ: 12%
ุฏูุฑุฉ ุงูุฏูุน: 15 ููู
```

#### **ุงูุฎุทูุฉ 2: ุงููุณุชุฎุฏู A ููุดุฆ ุฑูุฒ ุฅุญุงูุฉ**
```
ุฑูุฒ ุงูุฅุญุงูุฉ: AHMED2024
ุฑุงุจุท ุงูุฅุญุงูุฉ: https://yoursite.com?ref=AHMED2024
```

#### **ุงูุฎุทูุฉ 3: ุงููุณุชุฎุฏู B ูุณุชุฎุฏู ุงูุฅุญุงูุฉ**
**ุทุฑููุฉ 1 - ุฑุงุจุท ุงูุฅุญุงูุฉ:**
- ููุชุญ ุงูุฑุงุจุท: `https://yoursite.com?ref=AHMED2024`
- ูุชู ุชุทุจูู ุงูููุจูู ุชููุงุฆูุงู ูู ุตูุญุฉ ุงูุฏูุน
- ูุญุตู ุนูู ุฎุตู 15%

**ุทุฑููุฉ 2 - ุฑูุฒ ุงูููุจูู:**
- ูุฐูุจ ูุตูุญุฉ ุงูุฏูุน
- ูุฏุฎู `AHMED2024` ูู ุฎุงูุฉ ุงูููุจูู
- ูุญุตู ุนูู ุฎุตู 15%

#### **ุงูุฎุทูุฉ 4: ุงูุญุณุงุจุงุช**
```
ุณุนุฑ ุงูุจุงูุฉ: $100
ุงูุฎุตู (15%): -$15
ุงููุจูุบ ุงููุฏููุน: $85

ุนูููุฉ ุตุงุญุจ ุงูุฅุญุงูุฉ: $85 ร 12% = $10.20
```

#### **ุงูุฎุทูุฉ 5: ุงูุฏูุน**
- ุจุนุฏ 15 ูููุ ุงูุฃุฏูู ูุฑุงุฌุน ุงูุนูููุงุช
- ูุฏูุน $10.20 ูููุณุชุฎุฏู A

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:

### โ **ูุฑููุฉ ูุงููุฉ:**
- ุชุบููุฑ ุงููุณุจ ูู ุฃู ููุช
- ุงูุชุบููุฑุงุช ุชุทุจู ุนูู ุงูุฅุญุงูุงุช ุงูุฌุฏูุฏุฉ ููุท
- ุงูุฅุญุงูุงุช ุงููุฏููุฉ ุชุญุชูุธ ุจูุณุจูุง ุงูุฃุตููุฉ

### โ **ูุงุฌูุฉ ุจุฏูููุฉ:**
- Sliders ููุชุญูู ุงูุณุฑูุน
- ุญููู ุฅุฏุฎุงู ุฑูููุฉ ููุฏูุฉ
- ูุนุงููุฉ ููุฑูุฉ ููุญุณุงุจุงุช
- ุฑุณุงุฆู ุชูุถูุญูุฉ ููู ุฅุนุฏุงุฏ

### โ **ุฅุญุตุงุฆูุงุช ูุงุถุญุฉ:**
- ุนุฑุถ ุงููุณุจ ุงูุญุงููุฉ ูู ุจุทุงูุงุช
- ุฃูุซูุฉ ุญุณุงุจูุฉ ุญูุฉ
- ููุงุญุธุงุช ูููุฉ ููุฃุฏูู

### โ **ุฃูุงู:**
- ููุท ุงูุฃุฏูู ููููู ุงูุชุนุฏูู
- ุฌููุน ุงููุณุชุฎุฏููู ูููููู ุงููุฑุงุกุฉ
- Constraints ููุชุญูู ูู ุงูููู

---

## ๐ ุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### **referral_settings**
```sql
id                    UUID PRIMARY KEY
discount_rate         DECIMAL(5,2)  -- 0-50%
commission_rate       DECIMAL(5,2)  -- 0-50%
payment_cycle_days    INTEGER       -- 7, 15, or 30
minimum_payout        DECIMAL(10,2) -- $0+
is_active             BOOLEAN
created_at            TIMESTAMP
updated_at            TIMESTAMP
```

### **Constraints:**
- `discount_rate`: 0% - 50%
- `commission_rate`: 0% - 50%
- `payment_cycle_days`: 7, 15, ุฃู 30 ููุท
- `minimum_payout`: ูููุฉ ููุฌุจุฉ

---

## ๐ ุฎุทูุงุช ุงูุชุทุจูู:

### 1๏ธโฃ **ุชุทุจูู Migration:**
```bash
# ุงูุชุญ Supabase Dashboard โ SQL Editor
# ุงูุณุฎ ูุญุชูู ุงูููู:
supabase/migrations/20251101010000_create_referral_settings.sql
# ููุฐู
```

### 2๏ธโฃ **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู:**
```bash
npm run dev
```

### 3๏ธโฃ **ุงููุตูู ููุฅุนุฏุงุฏุงุช:**
1. ุณุฌู ุงูุฏุฎูู ูุฃุฏูู
2. ุงุฐูุจ ุฅูู ููุญุฉ ุงูุฃุฏูู
3. ุงุถุบุท ุนูู ุชุจููุจ "ุงูุฅุนุฏุงุฏุงุช"
4. ุณุชุฌุฏ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ูุธุงู ุงูุฅุญุงูุฉ

---

## ๐ง ุงูุงุณุชุฎุฏุงู:

### **ุชุบููุฑ ุงููุณุจ:**
1. ุงุณุชุฎุฏู Sliders ููุชุญูู ุงูุณุฑูุน
2. ุฃู ุฃุฏุฎู ุงููููุฉ ุจุฏูุฉ ูู ุงูุญูู ุงูุฑููู
3. ุฑุงูุจ ุงููุนุงููุฉ ุงูุญูุฉ ููุญุณุงุจุงุช
4. ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"

### **ุชุนุทูู ุงููุธุงู:**
1. ุฃุทูุฆ ููุชุงุญ "ุชูุนูู ูุธุงู ุงูุฅุญุงูุฉ"
2. ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"
3. ูู ูุชููู ุงููุณุชุฎุฏููู ูู ุฅูุดุงุก ุฅุญุงูุงุช ุฌุฏูุฏุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ:

### โ๏ธ **ุงูุชุบููุฑุงุช ูู ุงููุณุจ:**
- ุชุทุจู ุนูู **ุงูุฅุญุงูุงุช ุงูุฌุฏูุฏุฉ** ููุท
- ุงูุฅุญุงูุงุช ุงููุฏููุฉ ุชุญุชูุธ ุจูุณุจูุง ุงูุฃุตููุฉ
- ูุฐุง ูุถูู ุงูุนุฏุงูุฉ ูููุณุชุฎุฏููู

### ๐ก **ุฃูุถู ุงูููุงุฑุณุงุช:**
- ุงุจุฏุฃ ุจูุณุจ ูุนูููุฉ (10%-15%)
- ุฑุงูุจ ุงูุฃุฏุงุก ูุจู ุงูุชุบููุฑ
- ุฃุนูู ุนู ุงูุชุบููุฑุงุช ูุณุจูุงู
- ุงุญุชูุธ ุจุณุฌู ููุชุบููุฑุงุช

### ๐ฏ **ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณููู:**
- **ุนุฑูุถ ูุญุฏูุฏุฉ:** ุฒูุงุฏุฉ ุงููุณุจ ูุคูุชุงู
- **ุจุฑุงูุฌ VIP:** ูุณุจ ุฃุนูู ูููุณุชุฎุฏููู ุงููููุฒูู
- **ููุงุณู ุงูุฐุฑูุฉ:** ุชุนุฏูู ุงููุณุจ ุญุณุจ ุงูุทูุจ

---

## ๐ ุงููููุงุช ุฐุงุช ุงูุตูุฉ:

- `src/components/admin/ReferralSettings.tsx` - ุงููููู ุงูุฑุฆูุณู
- `src/components/admin/AdminPanel.tsx` - ุงูุชูุงูู
- `supabase/migrations/20251101010000_create_referral_settings.sql` - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `src/components/referral/ReferralPanel.tsx` - ูุงูุฐุฉ ุงูุฅุญุงูุฉ ูููุณุชุฎุฏููู
- `src/components/admin/CouponManagement.tsx` - ุฅุฏุงุฑุฉ ุงูููุจููุงุช
- `src/components/admin/CommissionManagement.tsx` - ุฅุฏุงุฑุฉ ุงูุนูููุงุช

---

## โ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

### **ุงููุฑุญูุฉ 1: ุฅุตูุงุญ ุฅูุดุงุก ุงูููุจูู ุงูุชููุงุฆู** (ุฌุงุฑู ุงูุนูู)
- ุฅุตูุงุญ `ReferralPanel.tsx`
- ุงูุชุฃูุฏ ูู ุฅูุดุงุก ุงูููุจูู ุนูุฏ ุญูุธ ุงูุฑูุฒ

### **ุงููุฑุญูุฉ 2: ุชุทุจูู ุงูููุจูู ูู ุฑุงุจุท ุงูุฅุญุงูุฉ**
- ูุฑุงุกุฉ ูุนุงูู `ref` ูู URL
- ุชุทุจูู ุงูููุจูู ุชููุงุฆูุงู ูู ุตูุญุฉ ุงูุฏูุน

### **ุงููุฑุญูุฉ 3: ุงุณุชุฎุฏุงู ุงูุฅุนุฏุงุฏุงุช ูู ุงููุธุงู**
- ุฌูุจ ุงููุณุจ ูู `referral_settings`
- ุชุทุจูููุง ุนูุฏ ุฅูุดุงุก ุฅุญุงูุงุช ุฌุฏูุฏุฉ
- ุนุฑุถูุง ูู ูุงูุฐุฉ ุงูุฅุญุงูุฉ

---

**ุชู ุฅูุดุงุก ุงููุธุงู ุจูุฌุงุญ! ๐**
